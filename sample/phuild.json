{
	//	paths can be defined here and referenced later. see action documentation for which
	//	config params expect a path key. eg the "copy" action's <src> and <dest> params.
	"paths": {
		"source": "./public_html"
		, "temporary": "./tmp"
		, "publish": "./published"
	},
	//	runnable tasks
	"tasks": {
		//	sub task for cleaning temporary and publish directories.
		"clean": [
			{
				"action": "clean"
				, "target": "temporary"
			}
			, {
				"action": "clean"
				, "target": "publish"
			}
		]
		//	main task for running a full build.
		, "build": [
			//	copy files from <src> to <dest>, cleaning the target directory first.
			//	change working directory to the target afterwards.
			{
				"action": "copy"
				, "src": "source"
				, "dest": "temporary"
				, "clean_first": true
				, "change_directory": true
			}
			/*
			//	run a sub-task (eg, all of its actions), pasing the current working directory.
			, {
				"action": "task"
				, "task" : "dev"
			}
			*/
			//	process .less files into .css files. only process the specified files and ignore other .less files
			, {
				"action": "less"
				, "files": [
					"assets\/styles\/bootstrap\/bootstrap.less"
					, "assets\/styles\/bootstrap\/responsive.less"
					, "assets\/styles\/bootstrap-adjust.less"
				]
			}
			//	minify css files, replacing the original extension with '.css' (eg, keep same extension explicitly)
			, {
				"action": "minify_css"
				, "ext": ".min.css"
				, "ignore": "min\\.css"
			}
			//	minify js files, replacing original extension with '.min.js'. do not process files that end in "min.js"
			, {
				"action": "minify_js"
				, "ext": ".min.js"
				, "ignore": "min\\.js$"
			}
			//	rewrite text contents of .html files.
			//	example rewrites localhost references to the 'real' production domain name.
			, {
				"action": "rewrite_text"
				, "include": ["\\.html$"]
				, "rewrites": [
					{
						"pattern": "http:\/\/localhost:8080"
						, "replace": "http:\/\/example.com"
					}
				]
			}
			//	merge consecutive <script> and CSS <link> tags into single tags.
			//	specify a base directory for the merged script and style files.
			//	optionally rewrite <link>s with stylesheet/less to css.
			//	LessCSS file paths will be properly followed if the less has been compiled to css
			//	note: do Less CSS compilation before this action.
			, {
				"action": "merge_html_assets"
				, "script_dir": "assets/scripts"
				, "style_dir": "assets/styles"
				, "less_to_css": true
			}
			//	copy the temporary directory to the publish directory. limit the files copied
			//	to those explicitly added by previous actions.
			, {
				"action": "copy"
				, "src": "temporary"
				, "dest": "publish"
				, "added_only": true
				, "clean_first": true
			}
			//	remove the temporary directory
			, {
				"action": "clean"
				, "target": "temporary"
			}
		]
	}
}